<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Perla del Caribe</title>

  <!-- Tip: puedes reemplazar el icono/logo por la imagen que subiste -->
  <style>
    :root{
      --bg-1: #05020a;
      --neon-pink: #ff2fa6;
      --neon-cyan: #1fe6ff;
      --neon-orange: #ff9f1c;
      --neon-green: #23ff88;
      --card: rgba(255,255,255,0.04);
      --glass: rgba(255,255,255,0.03);
      --muted: #cbd5e1;
      --accent: var(--neon-pink);
    }

    html,body{
      height:100%;
      margin:0;
      background: radial-gradient(ellipse at 10% 10%, rgba(31,230,255,0.06), transparent 10%),
                  radial-gradient(ellipse at 90% 80%, rgba(255,47,166,0.04), transparent 10%),
                  linear-gradient(180deg,#02030a 0%, #07060b 100%);
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      color: #f6f7fb;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:1rem;
    }

    .app {
      width:100%;
      max-width:760px;
    }

    header.app-header{
      display:flex;
      align-items:center;
      gap:1rem;
      margin-bottom:0.8rem;
    }
    .logo {
      width:84px;
      height:84px;
      border-radius:14px;
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6), 0 0 18px rgba(31,230,255,0.06) inset;
      overflow:hidden;
      border: 2px solid rgba(255,255,255,0.04);
    }
    .logo img { width:100%; height:100%; object-fit:cover; filter: saturate(1.05) contrast(1.02); }

    .title {
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    h1{
      margin:0;
      font-size:1.25rem;
      letter-spacing:0.6px;
      text-shadow: 0 2px 12px rgba(31,230,255,0.08);
    }
    .subtitle{
      font-size:0.9rem;
      color:var(--muted);
    }

    /* layout */
    .grid{
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:1rem;
      align-items:start;
    }

    /* Left: menu */
    .panel {
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:12px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.03);
    }

    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:8px;
    }
    .section-title strong{ font-size:1rem; color:var(--neon-cyan); text-shadow: 0 4px 20px rgba(31,230,255,0.06); }

    .button-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:0.5rem;
    }

    .product-btn{
      padding:14px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      font-weight:700;
      font-size:1rem;
      color: #06060b;
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
      transition: transform .08s ease, box-shadow .12s ease;
      user-select:none;
    }
    .product-btn:active { transform: translateY(1px) scale(.998); }

    /* Colors inspired by the neon image */
    .btn-neon-pink { background: linear-gradient(180deg, var(--neon-pink), #ff1f8f); color: #050005; }
    .btn-neon-cyan { background: linear-gradient(180deg, var(--neon-cyan), #00c8e6); color:#031018; }
    .btn-neon-orange { background: linear-gradient(180deg, var(--neon-orange), #ff7a1f); color:#170600; }
    .btn-neon-green { background: linear-gradient(180deg, var(--neon-green), #0fe66d); color:#051107; }

    /* right column: ticket */
    .ticket {
      border-radius:12px;
      padding:12px;
      background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.03);
      position:relative;
    }
    .ticket h2 { margin:0 0 8px 0; font-size:1rem; color:var(--neon-orange); text-shadow:0 4px 18px rgba(255,159,28,0.06); }

    #ticket-lists { font-family:monospace; white-space:pre-wrap; color:#e6eef6; margin-bottom:8px; min-height:120px; font-size:1rem; }
    #total { font-size:1.15rem; font-weight:800; color:var(--neon-green); margin-bottom:8px; }

    .remove-item { background:none; border: none; color: #ff9fb3; cursor:pointer; font-weight:bold; margin-left:8px; }

    .controls { display:flex; gap:8px; flex-direction:column; }
    .controls .row { display:flex; gap:8px; }

    .big-btn {
      padding: 12px 14px;
      border-radius:10px;
      border:none;
      font-weight:800;
      cursor:pointer;
      box-shadow: 0 8px 22px rgba(0,0,0,0.5);
    }
    #print { background:linear-gradient(180deg,var(--neon-cyan),#00a9d6); color:#001216; }
    #reset { background:linear-gradient(180deg,var(--neon-pink),#ff1f8f); color:#120010; }

    input[type="number"]{
      width:100%;
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02);
      color: #eaf6ff;
      font-size:1rem;
    }

    .small { font-size:0.85rem; color:var(--muted); }

    /* responsive */
    @media (max-width:880px){
      .grid{ grid-template-columns: 1fr; }
      .ticket { order:2; margin-top:0.6rem; }
    }

  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="logo">
        <!-- Usa tu imagen: si el nombre es distinto cambia el src -->
        <img src="src.jpg" alt="La Perla logo" />
      </div>
      <div class="title">
        <h1>La Perla del Caribe Coctelería</h1>
      </div>
    </header>

    <main class="grid">
      <!-- MENU -->
      <div class="panel">
        <div class="section-title"><strong>Menú La Perla Pub</strong></div>

        <div class="button-grid" id="menu">
          <!-- Copas (verde/cyan theme) -->
          <button class="product-btn btn-neon-green" onclick="addProduct('Copa normal', 8)">Copa normal - 8€</button>
          <button class="product-btn btn-neon-green" onclick="addProduct('Copa premium', 10)">Copa premium - 10€</button>

          <!-- Suplemento manual -->
          <button class="product-btn btn-neon-green" onclick="addProduct('Redbull +1', 1.00)">Redbull +1€ - 1,00€</button>

          <!-- Cócteles -->
          <button class="product-btn btn-neon-green" onclick="addProduct('Cóctel', 8)">Cóctel - 8€</button>
          <button class="product-btn btn-neon-green" onclick="addProduct('Mojito con botella de Jäger', 10)">Mojito + Jäger - 10€</button>

          <!-- Cervezas -->
          <button class="product-btn btn-neon-cyan" onclick="addProduct('Cerveza tercio normal', 3.50)">Cerveza tercio normal - 3,50€</button>
          <button class="product-btn btn-neon-cyan" onclick="addProduct('Cerveza tercio 1906', 4)">Cerveza tercio 1906 - 4€</button>
          <button class="product-btn btn-neon-cyan" onclick="addProduct('Tercios importadas', 4.50)">Tercios importadas - 4,50€</button>

          <!-- Cañas -->
          <button class="product-btn btn-neon-cyan" onclick="addProduct('Caña normal', 3)">Caña normal - 3€</button>
          <button class="product-btn btn-neon-cyan" onclick="addProduct('Caña 1906', 3.50)">Caña 1906 - 3,50€</button>

          <!-- Refrescos / bebidas -->
          <button class="product-btn btn-neon-orange" onclick="addProduct('Refresco', 3)">Refresco - 3€</button>
          <button class="product-btn btn-neon-orange" onclick="addProduct('Redbull', 3.50)">Redbull - 3,50€</button>
          <button class="product-btn btn-neon-orange" onclick="addProduct('Agua', 2.50)">Agua - 2,50€</button>

          <!-- Chupito & Cubo -->
          <button class="product-btn btn-neon-pink" onclick="addProduct('Chupito', 3)">Chupito - 3€</button>
          <button class="product-btn btn-neon-pink" onclick="addProduct('Cubo', 15)">Cubo - 15€</button>
        </div>
       <br>
                <div class="section-title"><strong>OFERTA ESPECIAL JUEVES UNIVERSITARIO</strong></div>
        <div class="button-grid" id="menu">
         <button class="product-btn btn-neon-green" onclick="addProduct('Copa normal', 6)">Copa normal - 6€</button>  
            <button class="product-btn btn-neon-cyan" onclick="addProduct('Caña normal', 2)">Caña normal - 2€</button>
            </div>
      </div>

      <!-- TICKET -->
      <aside class="ticket">
        <h2>Ticket</h2>
        <div id="ticket-lists">(aún no hay productos)</div>
        <div id="total">Total: 0,00€</div>

        <div style="margin-bottom:8px;">
          <label class="small">Pago cliente (€)</label>
          <input type="number" id="pagoCliente" placeholder="50" oninput="calcularCambio()" />
          <div id="cambio" class="small" style="margin-top:6px;color:var(--neon-green);font-weight:700;"></div>
        </div>

        <div class="controls">
          <div class="row">
            <button id="print" class="big-btn" onclick="printTickets()">Imprimir (RAWBT)</button>
            <button id="reset" class="big-btn" onclick="resetTickets()" style="background:linear-gradient(180deg,var(--neon-pink),#ff1f8f);">Reiniciar</button>
          </div>
        </div>
      </aside>
    </main>
  </div>

  <script>
    // Funcionalidad idéntica a la que tenías; solo adaptada a este layout.
    let ticket = [];

    function addProduct(name, price) {
      const existing = ticket.find(p => p.name === name);
      if (existing) existing.qty++;
      else ticket.push({name, price, qty: 1});
      updateDisplay();
    }

    function removeProduct(name) {
      const idx = ticket.findIndex(p => p.name === name);
      if (idx === -1) return;
      if (ticket[idx].qty > 1) ticket[idx].qty--;
      else ticket.splice(idx,1);
      updateDisplay();
    }

    function updateDisplay() {
      const total = ticket.reduce((s,p) => s + p.price * p.qty, 0);
      const lists = ticket.map(p => `${p.name} x${p.qty} - ${(p.price * p.qty).toFixed(2)}€`).join('\\n');
      document.getElementById('ticket-lists').textContent = lists || '(aún no hay productos)';
      document.getElementById('total').textContent = `Total: ${total.toFixed(2)}€`;

      // attach remove buttons (we keep monospace area but attach controls via simple HTML insertion)
      if (ticket.length){
        // build with remove buttons visible inline using textContent + small buttons injection
        // simpler: build HTML string (safe because product names come from code)
        let html = '';
        ticket.forEach((p, i) => {
          html += `${p.name} x${p.qty} - ${(p.price * p.qty).toFixed(2)}€ <button class="remove-item" onclick="removeProduct('${p.name.replace(/'/g, "\\'")}')">❌</button>\\n`;
        });
        document.getElementById('ticket-lists').innerHTML = html.replace(/\\n/g,'<br>');
      }
    }

    function generateTicketText(items, subtotal) {
      const fecha = new Date().toLocaleString('es-ES');
      let text = `*** La Perla del Caribe***\\n\\n`;
      items.forEach(p => text += `${p.name} x${p.qty} - ${(p.price * p.qty).toFixed(2)}€\\n`);
      text += `\\nTotal: ${subtotal.toFixed(2)}€\\nFecha: ${fecha}\\n\\n¡Gracias!`;
      return text;
    }

    function printTickets() {
      if (ticket.length === 0) { alert('No hay productos seleccionados.'); return; }
      const total = ticket.reduce((s,p) => s + p.price * p.qty, 0);
      const text = generateTicketText(ticket, total);
      openRawbt(text);
      // opcional: podrías guardar historial localStorage aquí
    }

    function openRawbt(text) {
      const encoded = encodeURIComponent(text);
      // usando rawbt:// (si prefieres intent: por Android puedes cambiar aquí)
      window.location.href = `rawbt:=${encoded}`;
    }

    function resetTickets() {
      if (!confirm('Reiniciar ticket actual?')) return;
      ticket = [];
      document.getElementById('pagoCliente').value='';
      document.getElementById('cambio').textContent='';
      updateDisplay();
    }

    function calcularCambio() {
      const pago = parseFloat(document.getElementById('pagoCliente').value);
      const total = ticket.reduce((s,p) => s + p.price * p.qty, 0);
      const div = document.getElementById('cambio');
      if (!isNaN(pago)) {
        const cambio = pago - total;
        if (cambio < 0) { div.textContent = `Faltan ${Math.abs(cambio).toFixed(2)}€`; div.style.color='salmon'; }
        else { div.textContent = `Cambio: ${cambio.toFixed(2)}€`; div.style.color='var(--neon-green)'; }
      } else div.textContent='';
    }

    // init
    updateDisplay();
  </script>
</body>
</html>
